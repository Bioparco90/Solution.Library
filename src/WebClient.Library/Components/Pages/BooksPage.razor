@page "/books"
<PageTitle>Books List</PageTitle>

@if (IsAuthenticated)
{
    <BookList />
}
else
{
    <RadzenAlert AlertStyle="AlertStyle.Danger" >
        You're not authenticated. Please log in.
    </RadzenAlert>
}

@code{
    bool IsAuthenticated;

    protected override async Task OnInitializedAsync()
    {
        try
        {
            var state = await AppStateManager.GetAppState();
            IsAuthenticated = state is not null && state.IsAuthenticated;
        }
        catch(InvalidOperationException)
        {
            
        }
    }
}
